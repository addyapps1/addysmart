function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AuthServiceHeader-BT039rjc.js","assets/index-CjYO5HdS.js","assets/index-aU5bFbZ-.css","assets/line-md--menu-to-close-transition-CEm-3zyw.js","assets/line-md--close-to-menu-transition-SDKgRMpA.js","assets/AuthSidebar-eWz35RP3.js","assets/useClickOutside-CGyhsngc.js","assets/Home-BibEkaf7.js","assets/sweetalert2.esm.all-BGf-Fe8G.js","assets/Helmet-DlaOlHX7.js","assets/BeatLoader-Cw3v0UOt.js","assets/ConfirmPasswordStrengthModal-L48ll7sT.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{P as C,j as e,r as t,A as D,u as F,_ as $,R as W,a as E,$ as B}from"./index-CjYO5HdS.js";import{S as u}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{H as G}from"./Helmet-DlaOlHX7.js";import{B as O}from"./BeatLoader-Cw3v0UOt.js";import{C as V}from"./ConfirmPasswordStrengthModal-L48ll7sT.js";const L=({pageDescription:x="We provide opportunities for earning through completing simple tasks, like mining shares, referral benefits, etc. In addition to other services",pageName:d="",pageTitle:c="Addyapps",ogImage:p="/serviceLogos/addyapps-high-resolution-logo.png"})=>d?e.jsxs(G,{children:[e.jsx("link",{rel:"icon",href:"/serviceLogos/addyapps-high-resolution-logo.png"}),e.jsx("meta",{name:"description",content:"Together is the key, Let's win together"}),e.jsx("meta",{property:"og:title",content:c}),e.jsx("meta",{property:"og:description",content:"Together is the key, Let's win together"}),e.jsx("meta",{property:"og:image",content:p})," ",e.jsx("meta",{property:"og:url",content:`https://addyapps.com/${d}`}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:locale",content:"en_US"}),e.jsx("meta",{property:"og:site_name",content:"Addyapps"}),e.jsx("title",{children:c})]}):(console.error("pageName is required for constructing the URL."),null);L.propTypes={pageDescription:C.string,pageName:C.string.isRequired,pageTitle:C.string,ogImage:C.string};const J=()=>{const{API_base_url:x,isLoggedIn:d,getStoredUserObj:c,setPageTitle:p,StoreUserObj:_,getStoredToken:T,APP_NAME:b}=t.useContext(D),h=F();t.useEffect(()=>{d()||h("/")},[d,h]),t.useEffect(()=>{p("PROFILE UPDATE")},[p]);const[o,y]=t.useState({firstName:"",lastName:"",gender:"",userTitle:""});t.useEffect(()=>{const r=c();y({firstName:(r==null?void 0:r.firstName)||"",lastName:(r==null?void 0:r.lastName)||"",gender:(r==null?void 0:r.gender)||"",userTitle:(r==null?void 0:r.userTitle)||""})},[c]);const[a,j]=t.useState(""),[g,w]=t.useState(!1),l=r=>{y({...o,[r.target.name]:r.target.value})},N=()=>{const{firstName:r,lastName:i,gender:n,userTitle:m}=o;if(!r||!i||!n)return u.fire("Please fill in all required fields."),!1;const S=/^[a-zA-Z0-9\s,'.-]{2,50}$/,v=/\.$/;return m&&(!S.test(m)||!v.test(m))?(u.fire(`Title "${m}" is invalid. It must contain 2-50 characters, including letters, numbers, and end with a dot.`),!1):!0},P=async r=>{if(r.preventDefault(),w(!0),!N()){w(!1);return}try{const i=await fetch(`${x}api/a/v1.00/users/profileupdate`,{method:"put",headers:{"Content-Type":"application/json",authorization:`Bearer ${T()}`},body:JSON.stringify(o)});if(i.ok){const n=await i.json();n.data&&_(n.data),u.fire("Profile updated successfully!")}else{const n=await i.text();j(`Profile update failed: ${n}`),u.fire(`Profile update failed: ${n}`),console.error(`Update failed: ${n}`)}}catch(i){j("Profile update failed"),u.fire(`Profile update failed: ${i.message}`),console.error(`Update failed: ${i}`)}w(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{pageDescription:`Welcome to  ${b.toLowerCase()} profile update page.`,pageName:"profile-update",pageTitle:`${b} - Profile Update`}),e.jsxs("div",{className:"container my-8 mx-auto max-w-md p-6 bg-[var(--container-bg-color)] border border-[var(--container-border)] rounded-lg shadow-lg",children:[e.jsx("div",{className:"formHeader mb-6 rounded-md",children:e.jsx("h1",{className:"text-2xl font-bold text-[var(--primary-text-color)] text-center",children:"Profile Update"})}),e.jsxs("form",{onSubmit:P,children:[a&&e.jsx("div",{className:"error-message",children:a}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"firstName",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:l,required:!0,id:"firstName",className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md"}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:l,required:!0,id:"lastName",className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md"}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"userTitle",children:"Your Title ( If any )"}),e.jsx("input",{type:"text",name:"userTitle",value:o.userTitle,onChange:l,id:"userTitle",className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md"}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"gender",children:"Gender:"}),e.jsxs("select",{name:"gender",value:o.gender,onChange:l,required:!0,id:"gender",className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",children:[e.jsx("option",{value:"",children:"-- Select Gender --"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("button",{type:"submit",className:"w-full mt-7 py-2 bg-[var(--highlight-color)] text-white rounded hover:bg-[var(--secondary-accent-color)] transition duration-300",children:g?e.jsx(O,{color:"#ffffff",loading:g,size:8}):"Update"})]})]})]})},Z=()=>{const{isLoggedIn:x,getStoredUserObj:d,setPageTitle:c,API_base_url:p,logout:_,getStoredToken:T,APP_NAME:b}=t.useContext(D),h=F(),[o,y]=t.useState(""),[a,j]=t.useState(""),[g,w]=t.useState(""),[l,N]=t.useState(!1),[P,r]=t.useState(""),[i,n]=t.useState({}),[m,S]=t.useState(!1),[v,I]=t.useState(!1),R=t.useRef(null),k=t.useRef(!0);t.useEffect(()=>{x()?n(d()):h("/")},[x,h,d]),t.useEffect(()=>{c("CHANGE PASSWORD")},[c]);const z=s=>{console.log("response",s),k.current=s,I(s),s&&R.current.click(),console.log("Confirmed",v),S(!1)},M=async s=>{if(s.preventDefault(),r(""),a!==g){r("Passwords do not match."),u.fire("Passwords do not match.");return}if(a.length<8)return r("Passwords must be at least 8 characters"),u.fire("Passwords must be at least 8 characters"),!1;if(console.log("Confirmed status:",v,"Proceed status:",k.current),!v&&!m){const f=/[a-z]/.test(a),A=/[A-Z]/.test(a),H=/[0-9]/.test(a),U=/[!@#$%^&*]/.test(a);if(!f||!A||!H||!U)return console.log("Password strength check failed"),S(!0),k.current=!1,!1}N(!0);const q={oldpassword:o,password:a,confirmPassword:g};try{const f=await fetch(`${p}api/a/v1.00/users/changepassword`,{method:"put",headers:{"Content-Type":"application/json",authorization:`Bearer ${T()}`},body:JSON.stringify(q)}),A=await f.json();if(f.ok)await u.fire("Password changed successfully!","Please log in.","success"),_(),h("/login");else throw new Error(A.message||"An error occurred during the password reset.")}catch(f){console.error("Error during password reset:",f),r(`Error: ${f.message}`)}finally{N(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(L,{pageDescription:`Welcome to ${b.toLowerCase()} change password page.`,pageName:"resetpass",pageTitle:`${b} - change password`}),e.jsxs("div",{className:"container my-8 mx-auto max-w-md p-6 bg-[var(--container-bg-color)] border border-[var(--container-border)] rounded-lg shadow-lg",children:[e.jsx("div",{className:"formHeader mb-6 rounded-md",children:e.jsx("h1",{className:"text-2xl font-bold text-[var(--primary-text-color)] text-center",children:"Change Password"})}),e.jsxs("form",{onSubmit:M,children:[e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"old-password",children:"Old Password"}),e.jsx("input",{type:"password",id:"old-password",value:o,onChange:s=>y(s.target.value),className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",required:!0}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"new-password",children:"New Password"}),e.jsx("input",{type:"password",id:"new-password",value:a,onChange:s=>j(s.target.value),className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",required:!0}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirm-password",value:g,onChange:s=>w(s.target.value),className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",required:!0}),P&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:P}),e.jsx("button",{ref:R,type:"submit",className:`w-full mt-7 py-2 ${l?"bg-gray-400":"bg-[var(--highlight-color)]"} text-white rounded hover:bg-[var(--secondary-accent-color)] transition duration-300`,disabled:l,children:l?e.jsx(O,{color:"#ffffff",loading:l,size:8}):"Change Password"})]})]}),m&&e.jsx(V,{handleConfirm:z})]})},Y=t.lazy(()=>$(()=>import("./AuthServiceHeader-BT039rjc.js"),__vite__mapDeps([0,1,2,3,4]))),K=t.lazy(()=>$(()=>import("./AuthSidebar-eWz35RP3.js"),__vite__mapDeps([5,1,2,6]))),Q=t.lazy(()=>$(()=>import("./Home-BibEkaf7.js"),__vite__mapDeps([7,1,2,8,9,10,11]))),X=()=>e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(B,{height:100,width:100,color:"#4fa94d",ariaLabel:"loading-indicator"})}),ee=()=>e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsx(K,{}),e.jsx("main",{children:e.jsx(t.Suspense,{fallback:e.jsx(X,{}),children:e.jsxs(W,{children:[e.jsx(E,{path:"/profileupdate",element:e.jsx(J,{})}),e.jsx(E,{path:"/changepassword",element:e.jsx(Z,{})}),e.jsx(E,{path:"/*",element:e.jsx(Q,{})})]})})})]}),ne=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{L as A,ne as a};
