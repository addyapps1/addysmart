function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/AuthServiceHeader-B2Hw4l4k.js","assets/index-kR-aReZW.js","assets/index-aU5bFbZ-.css","assets/line-md--menu-to-close-transition-CEm-3zyw.js","assets/line-md--close-to-menu-transition-SDKgRMpA.js","assets/AuthSidebar-B6SoY0x6.js","assets/useClickOutside-DlfaV4Ao.js","assets/Home-D0F_rVm_.js","assets/sweetalert2.esm.all-BGf-Fe8G.js","assets/Helmet-CjJ5bfs9.js","assets/BeatLoader-14DkuQDB.js","assets/ConfirmPasswordStrengthModal-DfuEUH40.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{P as T,j as e,r,A as D,u as F,_ as E,R as W,a as A,$ as B}from"./index-kR-aReZW.js";import{S as c}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{H as G}from"./Helmet-CjJ5bfs9.js";import{B as O}from"./BeatLoader-14DkuQDB.js";import{C as V}from"./ConfirmPasswordStrengthModal-DfuEUH40.js";const L=({pageDescription:w="We provide opportunities for earning through completing simple tasks, like mining shares, referral benefits, etc. In addition to other services",pageName:i="",pageTitle:d="Addyapps",ogImage:f="/serviceLogos/addyapps-high-resolution-logo.png"})=>i?e.jsxs(G,{children:[e.jsx("link",{rel:"icon",href:"/serviceLogos/addyapps-high-resolution-logo.png"}),e.jsx("meta",{name:"description",content:"Together is the key, Let's win together"}),e.jsx("meta",{property:"og:title",content:d}),e.jsx("meta",{property:"og:description",content:"Together is the key, Let's win together"}),e.jsx("meta",{property:"og:image",content:f})," ",e.jsx("meta",{property:"og:url",content:`https://addyapps.com/${i}`}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:locale",content:"en_US"}),e.jsx("meta",{property:"og:site_name",content:"Addyapps"}),e.jsx("title",{children:d})]}):(console.error("pageName is required for constructing the URL."),null);L.propTypes={pageDescription:T.string,pageName:T.string.isRequired,pageTitle:T.string,ogImage:T.string};const J=()=>{const{API_base_url:w,isLoggedIn:i,getStoredUserObj:d,setPageTitle:f,StoreUserObj:C,getStoredToken:_,APP_NAME:v}=r.useContext(D),p=F();r.useEffect(()=>{i()||p("/")},[i,p]),r.useEffect(()=>{f("PROFILE UPDATE")},[f]);const[o,y]=r.useState({firstName:"",lastName:"",gender:"",userTitle:""});r.useEffect(()=>{const t=d();y({firstName:(t==null?void 0:t.firstName)||"",lastName:(t==null?void 0:t.lastName)||"",gender:(t==null?void 0:t.gender)||"",userTitle:(t==null?void 0:t.userTitle)||""})},[d]);const[n,N]=r.useState(""),[h,j]=r.useState(!1),g=()=>{const t=/\.\s*$/;o.userTitle&&!t.test(o.userTitle.trim())&&y(s=>({...s,userTitle:`${s.userTitle.trim()}.`}))},u=t=>{y({...o,[t.target.name]:t.target.value})},P=()=>{const{firstName:t,lastName:s,gender:l,userTitle:b}=o;return!t||!s||!l?(c.fire("Please fill in all required fields."),!1):b&&!/^[a-zA-Z0-9\s,'.-]{2,50}$/.test(b)?(c.fire(`Title "${b}" is not valid. Please use 2-50 characters, including letters, numbers, spaces, commas, apostrophes, hyphens, or dots only.`),!1):!0},x=async t=>{if(t.preventDefault(),j(!0),g(),!P()){j(!1);return}try{const s=await fetch(`${w}api/a/v1.00/users/profileupdate`,{method:"put",headers:{"Content-Type":"application/json",authorization:`Bearer ${_()}`},body:JSON.stringify(o)});if(s.ok){const l=await s.json();l.data&&C(l.data),c.fire("Profile updated successfully!")}else{const l=await s.text();N(`Profile update failed: ${l}`),c.fire(`Profile update failed: ${l}`),console.error(`Update failed: ${l}`)}}catch(s){N("Profile update failed"),c.fire(`Profile update failed: ${s.message}`),console.error(`Update failed: ${s}`)}j(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(L,{pageDescription:`Welcome to  ${v.toLowerCase()} profile update page.`,pageName:"profile-update",pageTitle:`${v} - Profile Update`}),e.jsxs("div",{className:"container my-8 mx-auto max-w-md p-6 bg-[var(--container-bg-color)] border border-[var(--container-border)] rounded-lg shadow-lg",children:[e.jsx("div",{className:"formHeader mb-6 rounded-md",children:e.jsx("h1",{className:"text-2xl font-bold text-[var(--primary-text-color)] text-center",children:"Profile Update"})}),e.jsxs("form",{onSubmit:x,children:[n&&e.jsx("div",{className:"error-message",children:n}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"firstName",children:"First Name"}),e.jsx("input",{type:"text",name:"firstName",value:o.firstName,onChange:u,required:!0,id:"firstName",className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md"}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"lastName",children:"Last Name"}),e.jsx("input",{type:"text",name:"lastName",value:o.lastName,onChange:u,required:!0,id:"lastName",className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md"}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"userTitle",children:"Your Title ( If any )"}),e.jsx("input",{type:"text",name:"userTitle",value:o.userTitle,onChange:u,id:"userTitle",className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md"}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"gender",children:"Gender:"}),e.jsxs("select",{name:"gender",value:o.gender,onChange:u,required:!0,id:"gender",className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",children:[e.jsx("option",{value:"",children:"-- Select Gender --"}),e.jsx("option",{value:"male",children:"Male"}),e.jsx("option",{value:"female",children:"Female"}),e.jsx("option",{value:"other",children:"Other"})]}),e.jsx("button",{type:"submit",className:"w-full mt-7 py-2 bg-[var(--highlight-color)] text-white rounded hover:bg-[var(--secondary-accent-color)] transition duration-300",children:h?e.jsx(O,{color:"#ffffff",loading:h,size:8}):"Update"})]})]})]})},Z=()=>{const{isLoggedIn:w,getStoredUserObj:i,setPageTitle:d,API_base_url:f,logout:C,getStoredToken:_,APP_NAME:v}=r.useContext(D),p=F(),[o,y]=r.useState(""),[n,N]=r.useState(""),[h,j]=r.useState(""),[g,u]=r.useState(!1),[P,x]=r.useState(""),[t,s]=r.useState({}),[l,b]=r.useState(!1),[S,I]=r.useState(!1),R=r.useRef(null),k=r.useRef(!0);r.useEffect(()=>{w()?s(i()):p("/")},[w,p,i]),r.useEffect(()=>{d("CHANGE PASSWORD")},[d]);const z=a=>{console.log("response",a),k.current=a,I(a),a&&R.current.click(),console.log("Confirmed",S),b(!1)},M=async a=>{if(a.preventDefault(),x(""),n!==h){x("Passwords do not match."),c.fire("Passwords do not match.");return}if(n.length<8)return x("Passwords must be at least 8 characters"),c.fire("Passwords must be at least 8 characters"),!1;if(console.log("Confirmed status:",S,"Proceed status:",k.current),!S&&!l){const m=/[a-z]/.test(n),$=/[A-Z]/.test(n),H=/[0-9]/.test(n),U=/[!@#$%^&*]/.test(n);if(!m||!$||!H||!U)return console.log("Password strength check failed"),b(!0),k.current=!1,!1}u(!0);const q={oldpassword:o,password:n,confirmPassword:h};try{const m=await fetch(`${f}api/a/v1.00/users/changepassword`,{method:"put",headers:{"Content-Type":"application/json",authorization:`Bearer ${_()}`},body:JSON.stringify(q)}),$=await m.json();if(m.ok)await c.fire("Password changed successfully!","Please log in.","success"),C(),p("/login");else throw new Error($.message||"An error occurred during the password reset.")}catch(m){console.error("Error during password reset:",m),x(`Error: ${m.message}`)}finally{u(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(L,{pageDescription:`Welcome to ${v.toLowerCase()} change password page.`,pageName:"resetpass",pageTitle:`${v} - change password`}),e.jsxs("div",{className:"container my-8 mx-auto max-w-md p-6 bg-[var(--container-bg-color)] border border-[var(--container-border)] rounded-lg shadow-lg",children:[e.jsx("div",{className:"formHeader mb-6 rounded-md",children:e.jsx("h1",{className:"text-2xl font-bold text-[var(--primary-text-color)] text-center",children:"Change Password"})}),e.jsxs("form",{onSubmit:M,children:[e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"old-password",children:"Old Password"}),e.jsx("input",{type:"password",id:"old-password",value:o,onChange:a=>y(a.target.value),className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",required:!0}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"new-password",children:"New Password"}),e.jsx("input",{type:"password",id:"new-password",value:n,onChange:a=>N(a.target.value),className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",required:!0}),e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"confirm-password",children:"Confirm New Password"}),e.jsx("input",{type:"password",id:"confirm-password",value:h,onChange:a=>j(a.target.value),className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",required:!0}),P&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:P}),e.jsx("button",{ref:R,type:"submit",className:`w-full mt-7 py-2 ${g?"bg-gray-400":"bg-[var(--highlight-color)]"} text-white rounded hover:bg-[var(--secondary-accent-color)] transition duration-300`,disabled:g,children:g?e.jsx(O,{color:"#ffffff",loading:g,size:8}):"Change Password"})]})]}),l&&e.jsx(V,{handleConfirm:z})]})},Y=r.lazy(()=>E(()=>import("./AuthServiceHeader-B2Hw4l4k.js"),__vite__mapDeps([0,1,2,3,4]))),K=r.lazy(()=>E(()=>import("./AuthSidebar-B6SoY0x6.js"),__vite__mapDeps([5,1,2,6]))),Q=r.lazy(()=>E(()=>import("./Home-D0F_rVm_.js"),__vite__mapDeps([7,1,2,8,9,10,11]))),X=()=>e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(B,{height:100,width:100,color:"#4fa94d",ariaLabel:"loading-indicator"})}),ee=()=>e.jsxs(e.Fragment,{children:[e.jsx(Y,{}),e.jsx(K,{}),e.jsx("main",{children:e.jsx(r.Suspense,{fallback:e.jsx(X,{}),children:e.jsxs(W,{children:[e.jsx(A,{path:"/profileupdate",element:e.jsx(J,{})}),e.jsx(A,{path:"/changepassword",element:e.jsx(Z,{})}),e.jsx(A,{path:"/*",element:e.jsx(Q,{})})]})})})]}),ne=Object.freeze(Object.defineProperty({__proto__:null,default:ee},Symbol.toStringTag,{value:"Module"}));export{L as A,ne as a};
