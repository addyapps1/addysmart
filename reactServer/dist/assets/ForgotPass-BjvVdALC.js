import{r as t,A as p,u as f,j as e,L as b}from"./index-CG-qxEGx.js";import{S as v}from"./sweetalert2.esm.all-BGf-Fe8G.js";import{A as j}from"./AuthHelmet-qffg18gH.js";import{B as w}from"./BeatLoader-BWVF3wxr.js";import"./Helmet-BandFT-P.js";const A=()=>{const{API_base_url:d,APP_NAME:s}=t.useContext(p),[a,m]=t.useState(""),[n,i]=t.useState(!1),[l,c]=t.useState(""),u=f(),g=async o=>{o.preventDefault(),i(!0),c("");const x={email:a};try{const r=await fetch(`${d}api/a/v1.00/users/forgotpassword`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)}),h=await r.json();if(r.ok)v.fire("Password reset email sent successfully! Please check your inbox."),u("/login");else throw Error(`${h.message}`)}catch(r){console.error("Error during password reset request:",r),c(`Error: ${r.message}`)}i(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(j,{pageDescription:`Welcome to ${s.toLowerCase()} page for requesting password reset email.`,pageName:"forgotpass",pageTitle:`${s} - Forgot Password`}),e.jsxs("div",{className:"container my-8 mx-auto max-w-md p-6 bg-[var(--container-bg-color)] border border-[var(--container-border)] rounded-lg shadow-lg",children:[e.jsx("div",{className:"formHeader mb-6 rounded-md",children:e.jsx("h1",{className:"text-2xl font-bold text-[var(--primary-text-color)] text-center",children:"Forgot Password"})}),e.jsxs("form",{onSubmit:g,children:[e.jsx("label",{className:"block mb-2 text-[var(--primary-text-color)] font-bold",htmlFor:"email",children:"Enter your email"}),e.jsx("input",{type:"email",id:"email",value:a,onChange:o=>m(o.target.value),className:"mb-4 p-2 w-full border rounded text-[var(--secondary-text-color)] border-[var(--dark-gray)] focus:border-[var(--highlight-color)] focus:shadow-md",required:!0}),l&&e.jsx("p",{className:"text-red-500 text-sm mb-4",children:l}),e.jsx("button",{type:"submit",className:"w-full mt-7 py-2 bg-[var(--highlight-color)] text-white rounded hover:bg-[var(--secondary-accent-color)] transition duration-300",children:n?e.jsx(w,{color:"#ffffff",loading:n,size:8}):"Send Reset Email"})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(b,{to:"/login",className:"text-[var(--accent-color)] hover:text-[var(--highlight-color)]",children:"Back to Login"})})]})]})};export{A as default};
